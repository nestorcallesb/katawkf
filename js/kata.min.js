$(document).ready(function(){e();for(var t=50;t<=100;t+=2)valor=(t/10).toFixed(1),$(".pto").append('<option value="'+valor+'">'+valor+"</option>");function a(t,a){return colorMin='style="color: red;"',colorMax='style="color: blue;"',a==t.min[0]||a==t.min[1]?(console.log(a+": "+t[a]),"<del "+colorMin+">"+t[a]+"</del>"):a==t.max[0]||a==t.max[1]?(console.log(a+": "+t[a]),"<del "+colorMax+">"+t[a]+"</del>"):t[a]}function e(){$(".display").text("0.00"),$("select").prop("selectedIndex",0),$("#YAME").prop("disabled",!0),$("#atleta").val(""),$.each($("select"),function(t,a){$(this).hasClass("technical")&&(technical[$(this).prop("id")]=0),$(this).hasClass("athletic")&&(athletic[$(this).prop("id")]=0)}),technical.counter=0,athletic.counter=0,TOTAL.technical=0,TOTAL.athletic=0}function i(t,a){$("#YAME").prop("disabled",!0),pto=t.val(),id=t.prop("id"),a[id]=pto}function o(t){maximo=[5,5],minimo=[10,10],contador=0,6==t.counter&&($.each(t,function(a,e){if(0!=t[a]&&!isNaN(t[a])&&"counter"!=a){var i=parseFloat(t[a]);t.min[0]=i<parseFloat(minimo[0])?a:t.min[0],t.max[0]=i>parseFloat(maximo[0])?a:t.max[0],minimo[0]=i<parseFloat(minimo[0])?t[a]:minimo[0],maximo[0]=i>parseFloat(maximo[0])?t[a]:maximo[0]}}),$.each(t,function(a,e){if(0!=t[a]&&!isNaN(t[a])&&"counter"!=a&&a!=t.min[0]&&a!=t.max[0]){var i=parseFloat(t[a]);t.min[1]=i<parseFloat(minimo[1])?a:t.min[1],t.max[1]=i>=parseFloat(maximo[1])?a:t.max[1],minimo[1]=i<parseFloat(minimo[1])?t[a]:minimo[1],maximo[1]=i>parseFloat(maximo[1])?t[a]:maximo[1]}})),function(t){t.counter=0,result=parseFloat(0),factor="technical"==t.type?.7:.3,suma=parseFloat(0),juez=[],$.each(t,function(a,e){0==t[a]||isNaN(t[a])||"counter"==a||(a!=t.min[0]&&a!=t.max[0]&&a!=t.min[1]&&a!=t.max[1]&&(suma=(parseFloat(t[a])+parseFloat(suma)).toFixed(2)),t.counter++)}),7==t.counter&&(result=(suma*factor).toFixed(2),$("#"+t.type).text(suma),$("#"+t.total).text(result));"technical"==t.type?TOTAL.technical=result:TOTAL.athletic=result;7==athletic.counter&&7==technical.counter&&($("#YAME").prop("disabled",!1),total=(parseFloat(TOTAL.technical)+parseFloat(TOTAL.athletic)).toFixed(2),$("#puntuacion").text(total),TOTAL.total=parseFloat(total).toFixed(2),console.log(t.type+": "+TOTAL.technical+" | "+TOTAL.athletic))}(t)}$.each(kata,function(t,a){$("#kata").append('<option value="'+a+'">'+a+"</option>")}),$(".technical").change(function(t){i($(this),technical),o(technical)}),$(".athletic").change(function(t){i($(this),athletic),o(athletic)}),$("#YAME").click(function(t){TOTAL.atleta=$("#atleta").val(),TOTAL.kata=$("#kata").val(),0!=TOTAL.kata&&""!=TOTAL.atleta?($("#tabla").DataTable().row.add(TOTAL).draw(),$("#print").append("Competidor: "+TOTAL.atleta+" | Kata: "+TOTAL.kata),$("#print").append("<div> Tecnica: "+a(technical,"juez-1")+" | "+a(technical,"juez-2")+" | "+a(technical,"juez-3")+" | "+a(technical,"juez-4")+" | "+a(technical,"juez-5")+" | "+a(technical,"juez-6")+" | "+a(technical,"juez-7")+"</div>"),$("#print").append("<div> Atletica: "+a(athletic,"juez-1")+" | "+a(athletic,"juez-2")+" | "+a(athletic,"juez-3")+" | "+a(athletic,"juez-4")+" | "+a(athletic,"juez-5")+" | "+a(athletic,"juez-6")+" | "+a(athletic,"juez-7")+"</div>"),e()):alert("Debe Llenar los Campos Atleta y Kata")})});